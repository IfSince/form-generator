<form class="flex-layout-container flex-layout-container__column"
      [formGroup]="_formGroup"
      (ngSubmit)="onSubmit()">
  <mat-card appearance="raised">
    <mat-card-header class="btn-group">
      <mat-card-title>General</mat-card-title>
      <div class="btn-group">
        <app-dropzone text="Import">
          <input type="file"
                 fileInput
                 [formControl]="file"
                 [multiple]="false"
                 [mode]="'replace'"/>
        </app-dropzone>

        <a mat-button
           [disabled]="jsonBlobUrl() === null"
           [href]="jsonBlobUrl()"
           [attr.download]="'formData.json'">
          Export
        </a>
      </div>
    </mat-card-header>
    <mat-card-content>
      {{ jsonData() | json }}

      <mat-list>
        <div mat-subheader>Example</div>
        <mat-list-item>
          <mat-icon matListItemIcon>folder</mat-icon>
          <span matListItemTitle>Test</span>
          <span matListItemLine>Dummy Description</span>
          <div matListItemMeta>
            <mat-form-field>
              <input matInput formControlName="test"/>
            </mat-form-field>
          </div>
        </mat-list-item>

        <div mat-subheader>Folders</div>
        @for (folder of folders; track folder) {
          <mat-list-item>
            <mat-icon matListItemIcon>folder</mat-icon>
            <div matListItemTitle>{{ folder.name }}</div>
            <div matListItemLine>{{ folder.updated | date }}</div>
          </mat-list-item>
        }
      </mat-list>
    </mat-card-content>
    <mat-card-actions>
      <ng-content/>
    </mat-card-actions>
  </mat-card>

  <mat-card>
    <mat-card-header>
      <mat-card-title>Others</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <mat-list>
        @for (note of notes; track note) {
          <mat-list-item>
            <mat-icon matListItemIcon>note</mat-icon>
            <div matListItemTitle>{{ note.name }}</div>
            <div matListItemLine>{{ note.updated | date }}</div>
            <div matListItemMeta>
              <mat-button-toggle-group name="windowSizeClass"
                                       [hideSingleSelectionIndicator]="true">
                <mat-button-toggle value="reactive">Reactive</mat-button-toggle>
                <mat-button-toggle value="dynamic">Dynamic</mat-button-toggle>
              </mat-button-toggle-group>
            </div>
          </mat-list-item>
        }
      </mat-list>
    </mat-card-content>
  </mat-card>

  <mat-card>
    <mat-card-header>
      <mat-card-title>Third Configs</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <mat-selection-list #shoes>
        @for (shoe of typesOfShoes; track shoe) {
          <mat-list-option>{{ shoe }}</mat-list-option>
        }
      </mat-selection-list>

      <p>
        Options selected: {{ shoes.selectedOptions.selected.length }}
      </p>
    </mat-card-content>
  </mat-card>
</form>
